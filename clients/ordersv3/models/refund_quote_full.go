// Code generated by go-swagger; DO NOT EDIT.

package models

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the swagger generate command

import (
	"strconv"

	"github.com/go-openapi/errors"
	"github.com/go-openapi/strfmt"
	"github.com/go-openapi/swag"
	"github.com/go-openapi/validate"
)

// RefundQuoteFull RefundQuote_Full
//
// swagger:model RefundQuote_Full
type RefundQuoteFull struct {

	// Amount
	//
	// A non-negative 2 decimal place rounded value that represents that amount that can be charged/refunded via payment providers
	Adjustment float32 `json:"adjustment,omitempty"`

	// ID of the order to be refunded
	OrderID int64 `json:"order_id,omitempty"`

	// An array of available refund methods.
	//
	// Note that `refund_methods` is an array of refund methods, with each refund method being an array of payment options.
	//
	// For example, if the order was placed by a combination of store credit and bank deposit the  refund methods would be:
	// ```json
	// {
	//   "refund_methods": [
	//     [
	//       {
	//         "provider_id": "storecredit",
	//         "provider_description": "Store Credit",
	//         "amount": 119.35,
	//         "offline": false,
	//         "offline_provider": false,
	//         "offline_reason": ""
	//       }
	//     ],
	//     [
	//       {
	//         "provider_id": "custom",
	//         "provider_description": "Custom",
	//         "amount": 119.35,
	//         "offline": true,
	//         "offline_provider": true,
	//         "offline_reason": "This is an offline payment provider."
	//       }
	//     ],
	//     [
	//       {
	//         "provider_id": "bankdeposit",
	//         "provider_description": "Bank Deposit",
	//         "amount": 80.35,
	//         "offline": true,
	//         "offline_provider": true,
	//         "offline_reason": "This is an offline payment provider."
	//       },
	//       {
	//         "provider_id": "storecredit",
	//         "provider_description": "Store Credit",
	//         "amount": 39,
	//         "offline": false,
	//         "offline_provider": false,
	//         "offline_reason": ""
	//       }
	//     ]
	//   ]
	// }
	// ```
	//
	// In this case there are three refund methods available to the merchant:
	// 1. Refund up to the entire order amount to store credit.
	// 2. Mark an amount up to the full order amount as refunded externally, through a provider or means not represented directly in BC ("custom").
	// 3. Refund the amount paid by store credit to store credit, and the amount paid by bank deposit via a manual refund, which will be recorded as being refunded against the bank deposit.
	//
	// >
	//
	//
	//
	RefundMethods [][]*RefundQuoteFullRefundMethodsItems0 `json:"refund_methods"`

	// Indicates rounding value to bring refund_total to an amount refundable via payment providers (in this case to 2 decimal places)
	Rounding float64 `json:"rounding,omitempty"`

	// Indicate if total_refund_amount includes tax amount
	TaxInclusive bool `json:"tax_inclusive,omitempty"`

	// Amount
	//
	// A non-negative 2 decimal place rounded value that represents that amount that can be charged/refunded via payment providers
	TotalRefundAmount float32 `json:"total_refund_amount,omitempty"`

	// total refund tax amount
	TotalRefundTaxAmount float64 `json:"total_refund_tax_amount,omitempty"`
}

// Validate validates this refund quote full
func (m *RefundQuoteFull) Validate(formats strfmt.Registry) error {
	var res []error

	if err := m.validateRefundMethods(formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (m *RefundQuoteFull) validateRefundMethods(formats strfmt.Registry) error {

	if swag.IsZero(m.RefundMethods) { // not required
		return nil
	}

	for i := 0; i < len(m.RefundMethods); i++ {

		iiRefundMethodsSize := int64(len(m.RefundMethods[i]))

		if err := validate.MinItems("refund_methods"+"."+strconv.Itoa(i), "body", iiRefundMethodsSize, 1); err != nil {
			return err
		}

		for ii := 0; ii < len(m.RefundMethods[i]); ii++ {
			if swag.IsZero(m.RefundMethods[i][ii]) { // not required
				continue
			}

			if m.RefundMethods[i][ii] != nil {
				if err := m.RefundMethods[i][ii].Validate(formats); err != nil {
					if ve, ok := err.(*errors.Validation); ok {
						return ve.ValidateName("refund_methods" + "." + strconv.Itoa(i) + "." + strconv.Itoa(ii))
					}
					return err
				}
			}

		}

	}

	return nil
}

// MarshalBinary interface implementation
func (m *RefundQuoteFull) MarshalBinary() ([]byte, error) {
	if m == nil {
		return nil, nil
	}
	return swag.WriteJSON(m)
}

// UnmarshalBinary interface implementation
func (m *RefundQuoteFull) UnmarshalBinary(b []byte) error {
	var res RefundQuoteFull
	if err := swag.ReadJSON(b, &res); err != nil {
		return err
	}
	*m = res
	return nil
}

// RefundQuoteFullRefundMethodsItems0 Payment Option
//
// swagger:model RefundQuoteFullRefundMethodsItems0
type RefundQuoteFullRefundMethodsItems0 struct {

	// amount to be refunded via this payment provider
	Amount float64 `json:"amount,omitempty"`

	// Indicates the payment must be done offline due to constraints of the payment provider, such as partial refunds not being supported, or it being offline only such as cash on delivery of bank deposit.
	Offline bool `json:"offline,omitempty"`

	// Indicates if the payment provider is a strictly offline provider, such as cash on delivery or bank deposit.
	OfflineProvider bool `json:"offline_provider,omitempty"`

	// Reason the payment option is offline only, if applicable.
	OfflineReason string `json:"offline_reason,omitempty"`

	// Description for payment provider
	ProviderDescription string `json:"provider_description,omitempty"`

	// Name of the payment method
	ProviderID string `json:"provider_id,omitempty"`
}

// Validate validates this refund quote full refund methods items0
func (m *RefundQuoteFullRefundMethodsItems0) Validate(formats strfmt.Registry) error {
	return nil
}

// MarshalBinary interface implementation
func (m *RefundQuoteFullRefundMethodsItems0) MarshalBinary() ([]byte, error) {
	if m == nil {
		return nil, nil
	}
	return swag.WriteJSON(m)
}

// UnmarshalBinary interface implementation
func (m *RefundQuoteFullRefundMethodsItems0) UnmarshalBinary(b []byte) error {
	var res RefundQuoteFullRefundMethodsItems0
	if err := swag.ReadJSON(b, &res); err != nil {
		return err
	}
	*m = res
	return nil
}
