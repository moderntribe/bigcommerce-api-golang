// Code generated by go-swagger; DO NOT EDIT.

package order_refunds

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the swagger generate command

import (
	"fmt"
	"io"
	"strconv"

	"github.com/go-openapi/errors"
	"github.com/go-openapi/runtime"
	"github.com/go-openapi/strfmt"
	"github.com/go-openapi/swag"
	"github.com/go-openapi/validate"
)

// PostrefundquoteReader is a Reader for the Postrefundquote structure.
type PostrefundquoteReader struct {
	formats strfmt.Registry
}

// ReadResponse reads a server response into the received o.
func (o *PostrefundquoteReader) ReadResponse(response runtime.ClientResponse, consumer runtime.Consumer) (interface{}, error) {
	switch response.Code() {
	case 201:
		result := NewPostrefundquoteCreated()
		if err := result.readResponse(response, consumer, o.formats); err != nil {
			return nil, err
		}
		return result, nil
	case 422:
		result := NewPostrefundquoteUnprocessableEntity()
		if err := result.readResponse(response, consumer, o.formats); err != nil {
			return nil, err
		}
		return nil, result

	default:
		return nil, runtime.NewAPIError("response status code does not match any response statuses defined for this endpoint in the swagger spec", response, response.Code())
	}
}

// NewPostrefundquoteCreated creates a PostrefundquoteCreated with default headers values
func NewPostrefundquoteCreated() *PostrefundquoteCreated {
	return &PostrefundquoteCreated{}
}

/*PostrefundquoteCreated handles this case with default header values.

PostrefundquoteCreated postrefundquote created
*/
type PostrefundquoteCreated struct {
	Payload *PostrefundquoteCreatedBody
}

func (o *PostrefundquoteCreated) Error() string {
	return fmt.Sprintf("[POST /orders/{order_id}/payment_actions/refund_quotes][%d] postrefundquoteCreated  %+v", 201, o.Payload)
}

func (o *PostrefundquoteCreated) GetPayload() *PostrefundquoteCreatedBody {
	return o.Payload
}

func (o *PostrefundquoteCreated) readResponse(response runtime.ClientResponse, consumer runtime.Consumer, formats strfmt.Registry) error {

	o.Payload = new(PostrefundquoteCreatedBody)

	// response payload
	if err := consumer.Consume(response.Body(), o.Payload); err != nil && err != io.EOF {
		return err
	}

	return nil
}

// NewPostrefundquoteUnprocessableEntity creates a PostrefundquoteUnprocessableEntity with default headers values
func NewPostrefundquoteUnprocessableEntity() *PostrefundquoteUnprocessableEntity {
	return &PostrefundquoteUnprocessableEntity{}
}

/*PostrefundquoteUnprocessableEntity handles this case with default header values.

This occurs when missing or unacceptable data is passed for one or more fields. Please correct the values for the fields listed in the errors object.
*/
type PostrefundquoteUnprocessableEntity struct {
	Payload *PostrefundquoteUnprocessableEntityBody
}

func (o *PostrefundquoteUnprocessableEntity) Error() string {
	return fmt.Sprintf("[POST /orders/{order_id}/payment_actions/refund_quotes][%d] postrefundquoteUnprocessableEntity  %+v", 422, o.Payload)
}

func (o *PostrefundquoteUnprocessableEntity) GetPayload() *PostrefundquoteUnprocessableEntityBody {
	return o.Payload
}

func (o *PostrefundquoteUnprocessableEntity) readResponse(response runtime.ClientResponse, consumer runtime.Consumer, formats strfmt.Registry) error {

	o.Payload = new(PostrefundquoteUnprocessableEntityBody)

	// response payload
	if err := consumer.Consume(response.Body(), o.Payload); err != nil && err != io.EOF {
		return err
	}

	return nil
}

/*PostrefundquoteBody RefundQuote_Post
//
// Request body for refund quotes.
swagger:model PostrefundquoteBody
*/
type PostrefundquoteBody struct {

	// ItemsRefund
	// Required: true
	Items []interface{} `json:"items"`

	// Order ID against which this refund will be created. This is optional for creating a single refund request. The order ID is included in the request path.
	// Required: true
	OrderID *int64 `json:"order_id"`
}

// Validate validates this postrefundquote body
func (o *PostrefundquoteBody) Validate(formats strfmt.Registry) error {
	var res []error

	if err := o.validateItems(formats); err != nil {
		res = append(res, err)
	}

	if err := o.validateOrderID(formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (o *PostrefundquoteBody) validateItems(formats strfmt.Registry) error {

	if err := validate.Required("body"+"."+"items", "body", o.Items); err != nil {
		return err
	}

	return nil
}

func (o *PostrefundquoteBody) validateOrderID(formats strfmt.Registry) error {

	if err := validate.Required("body"+"."+"order_id", "body", o.OrderID); err != nil {
		return err
	}

	return nil
}

// MarshalBinary interface implementation
func (o *PostrefundquoteBody) MarshalBinary() ([]byte, error) {
	if o == nil {
		return nil, nil
	}
	return swag.WriteJSON(o)
}

// UnmarshalBinary interface implementation
func (o *PostrefundquoteBody) UnmarshalBinary(b []byte) error {
	var res PostrefundquoteBody
	if err := swag.ReadJSON(b, &res); err != nil {
		return err
	}
	*o = res
	return nil
}

/*PostrefundquoteCreatedBody postrefundquote created body
swagger:model PostrefundquoteCreatedBody
*/
type PostrefundquoteCreatedBody struct {

	// data
	Data *PostrefundquoteCreatedBodyData `json:"data,omitempty"`

	// meta
	Meta interface{} `json:"meta,omitempty"`
}

// Validate validates this postrefundquote created body
func (o *PostrefundquoteCreatedBody) Validate(formats strfmt.Registry) error {
	var res []error

	if err := o.validateData(formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (o *PostrefundquoteCreatedBody) validateData(formats strfmt.Registry) error {

	if swag.IsZero(o.Data) { // not required
		return nil
	}

	if o.Data != nil {
		if err := o.Data.Validate(formats); err != nil {
			if ve, ok := err.(*errors.Validation); ok {
				return ve.ValidateName("postrefundquoteCreated" + "." + "data")
			}
			return err
		}
	}

	return nil
}

// MarshalBinary interface implementation
func (o *PostrefundquoteCreatedBody) MarshalBinary() ([]byte, error) {
	if o == nil {
		return nil, nil
	}
	return swag.WriteJSON(o)
}

// UnmarshalBinary interface implementation
func (o *PostrefundquoteCreatedBody) UnmarshalBinary(b []byte) error {
	var res PostrefundquoteCreatedBody
	if err := swag.ReadJSON(b, &res); err != nil {
		return err
	}
	*o = res
	return nil
}

/*PostrefundquoteCreatedBodyData RefundQuote_Full
swagger:model PostrefundquoteCreatedBodyData
*/
type PostrefundquoteCreatedBodyData struct {

	// Amount
	//
	// A non-negative 2 decimal place rounded value that represents that amount that can be charged/refunded via payment providers
	Adjustment float32 `json:"adjustment,omitempty"`

	// ID of the order to be refunded
	OrderID int64 `json:"order_id,omitempty"`

	// An array of available refund methods.
	//
	// Note that `refund_methods` is an array of refund methods, with each refund method being an array of payment options.
	//
	// For example, if the order was placed by a combination of store credit and bank deposit the  refund methods would be:
	// ```json
	// {
	//   "refund_methods": [
	//     [
	//       {
	//         "provider_id": "storecredit",
	//         "provider_description": "Store Credit",
	//         "amount": 119.35,
	//         "offline": false,
	//         "offline_provider": false,
	//         "offline_reason": ""
	//       }
	//     ],
	//     [
	//       {
	//         "provider_id": "custom",
	//         "provider_description": "Custom",
	//         "amount": 119.35,
	//         "offline": true,
	//         "offline_provider": true,
	//         "offline_reason": "This is an offline payment provider."
	//       }
	//     ],
	//     [
	//       {
	//         "provider_id": "bankdeposit",
	//         "provider_description": "Bank Deposit",
	//         "amount": 80.35,
	//         "offline": true,
	//         "offline_provider": true,
	//         "offline_reason": "This is an offline payment provider."
	//       },
	//       {
	//         "provider_id": "storecredit",
	//         "provider_description": "Store Credit",
	//         "amount": 39,
	//         "offline": false,
	//         "offline_provider": false,
	//         "offline_reason": ""
	//       }
	//     ]
	//   ]
	// }
	// ```
	//
	// In this case there are three refund methods available to the merchant:
	// 1. Refund up to the entire order amount to store credit.
	// 2. Mark an amount up to the full order amount as refunded externally, through a provider or means not represented directly in BC ("custom").
	// 3. Refund the amount paid by store credit to store credit, and the amount paid by bank deposit via a manual refund, which will be recorded as being refunded against the bank deposit.
	//
	// >
	//
	//
	//
	RefundMethods [][]*PostrefundquoteCreatedBodyDataRefundMethodsItems0 `json:"refund_methods"`

	// Indicates rounding value to bring refund_total to an amount refundable via payment providers (in this case to 2 decimal places)
	Rounding float64 `json:"rounding,omitempty"`

	// Indicate if total_refund_amount includes tax amount
	TaxInclusive bool `json:"tax_inclusive,omitempty"`

	// Amount
	//
	// A non-negative 2 decimal place rounded value that represents that amount that can be charged/refunded via payment providers
	TotalRefundAmount float32 `json:"total_refund_amount,omitempty"`

	// total refund tax amount
	TotalRefundTaxAmount float64 `json:"total_refund_tax_amount,omitempty"`
}

// Validate validates this postrefundquote created body data
func (o *PostrefundquoteCreatedBodyData) Validate(formats strfmt.Registry) error {
	var res []error

	if err := o.validateRefundMethods(formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (o *PostrefundquoteCreatedBodyData) validateRefundMethods(formats strfmt.Registry) error {

	if swag.IsZero(o.RefundMethods) { // not required
		return nil
	}

	for i := 0; i < len(o.RefundMethods); i++ {

		iiRefundMethodsSize := int64(len(o.RefundMethods[i]))

		if err := validate.MinItems("postrefundquoteCreated"+"."+"data"+"."+"refund_methods"+"."+strconv.Itoa(i), "body", iiRefundMethodsSize, 1); err != nil {
			return err
		}

		for ii := 0; ii < len(o.RefundMethods[i]); ii++ {
			if swag.IsZero(o.RefundMethods[i][ii]) { // not required
				continue
			}

			if o.RefundMethods[i][ii] != nil {
				if err := o.RefundMethods[i][ii].Validate(formats); err != nil {
					if ve, ok := err.(*errors.Validation); ok {
						return ve.ValidateName("postrefundquoteCreated" + "." + "data" + "." + "refund_methods" + "." + strconv.Itoa(i) + "." + strconv.Itoa(ii))
					}
					return err
				}
			}

		}

	}

	return nil
}

// MarshalBinary interface implementation
func (o *PostrefundquoteCreatedBodyData) MarshalBinary() ([]byte, error) {
	if o == nil {
		return nil, nil
	}
	return swag.WriteJSON(o)
}

// UnmarshalBinary interface implementation
func (o *PostrefundquoteCreatedBodyData) UnmarshalBinary(b []byte) error {
	var res PostrefundquoteCreatedBodyData
	if err := swag.ReadJSON(b, &res); err != nil {
		return err
	}
	*o = res
	return nil
}

/*PostrefundquoteCreatedBodyDataRefundMethodsItems0 Payment Option
swagger:model PostrefundquoteCreatedBodyDataRefundMethodsItems0
*/
type PostrefundquoteCreatedBodyDataRefundMethodsItems0 struct {

	// amount to be refunded via this payment provider
	Amount float64 `json:"amount,omitempty"`

	// Indicates the payment must be done offline due to constraints of the payment provider, such as partial refunds not being supported, or it being offline only such as cash on delivery of bank deposit.
	Offline bool `json:"offline,omitempty"`

	// Indicates if the payment provider is a strictly offline provider, such as cash on delivery or bank deposit.
	OfflineProvider bool `json:"offline_provider,omitempty"`

	// Reason the payment option is offline only, if applicable.
	OfflineReason string `json:"offline_reason,omitempty"`

	// Description for payment provider
	ProviderDescription string `json:"provider_description,omitempty"`

	// Name of the payment method
	ProviderID string `json:"provider_id,omitempty"`
}

// Validate validates this postrefundquote created body data refund methods items0
func (o *PostrefundquoteCreatedBodyDataRefundMethodsItems0) Validate(formats strfmt.Registry) error {
	return nil
}

// MarshalBinary interface implementation
func (o *PostrefundquoteCreatedBodyDataRefundMethodsItems0) MarshalBinary() ([]byte, error) {
	if o == nil {
		return nil, nil
	}
	return swag.WriteJSON(o)
}

// UnmarshalBinary interface implementation
func (o *PostrefundquoteCreatedBodyDataRefundMethodsItems0) UnmarshalBinary(b []byte) error {
	var res PostrefundquoteCreatedBodyDataRefundMethodsItems0
	if err := swag.ReadJSON(b, &res); err != nil {
		return err
	}
	*o = res
	return nil
}

/*PostrefundquoteUnprocessableEntityBody ErrorResponse
swagger:model PostrefundquoteUnprocessableEntityBody
*/
type PostrefundquoteUnprocessableEntityBody struct {

	// The HTTP status code.
	//
	Status int64 `json:"status,omitempty"`

	// The error title describing the particular error.
	//
	Title string `json:"title,omitempty"`

	// type
	Type string `json:"type,omitempty"`

	// DetailedErrors
	Errors map[string]string `json:"errors,omitempty"`
}

// UnmarshalJSON unmarshals this object from a JSON structure
func (o *PostrefundquoteUnprocessableEntityBody) UnmarshalJSON(raw []byte) error {
	// PostrefundquoteUnprocessableEntityBodyAO0
	var dataPostrefundquoteUnprocessableEntityBodyAO0 struct {
		Status int64 `json:"status,omitempty"`

		Title string `json:"title,omitempty"`

		Type string `json:"type,omitempty"`
	}
	if err := swag.ReadJSON(raw, &dataPostrefundquoteUnprocessableEntityBodyAO0); err != nil {
		return err
	}

	o.Status = dataPostrefundquoteUnprocessableEntityBodyAO0.Status

	o.Title = dataPostrefundquoteUnprocessableEntityBodyAO0.Title

	o.Type = dataPostrefundquoteUnprocessableEntityBodyAO0.Type

	// PostrefundquoteUnprocessableEntityBodyAO1
	var dataPostrefundquoteUnprocessableEntityBodyAO1 struct {
		Errors map[string]string `json:"errors,omitempty"`
	}
	if err := swag.ReadJSON(raw, &dataPostrefundquoteUnprocessableEntityBodyAO1); err != nil {
		return err
	}

	o.Errors = dataPostrefundquoteUnprocessableEntityBodyAO1.Errors

	return nil
}

// MarshalJSON marshals this object to a JSON structure
func (o PostrefundquoteUnprocessableEntityBody) MarshalJSON() ([]byte, error) {
	_parts := make([][]byte, 0, 2)

	var dataPostrefundquoteUnprocessableEntityBodyAO0 struct {
		Status int64 `json:"status,omitempty"`

		Title string `json:"title,omitempty"`

		Type string `json:"type,omitempty"`
	}

	dataPostrefundquoteUnprocessableEntityBodyAO0.Status = o.Status

	dataPostrefundquoteUnprocessableEntityBodyAO0.Title = o.Title

	dataPostrefundquoteUnprocessableEntityBodyAO0.Type = o.Type

	jsonDataPostrefundquoteUnprocessableEntityBodyAO0, errPostrefundquoteUnprocessableEntityBodyAO0 := swag.WriteJSON(dataPostrefundquoteUnprocessableEntityBodyAO0)
	if errPostrefundquoteUnprocessableEntityBodyAO0 != nil {
		return nil, errPostrefundquoteUnprocessableEntityBodyAO0
	}
	_parts = append(_parts, jsonDataPostrefundquoteUnprocessableEntityBodyAO0)
	var dataPostrefundquoteUnprocessableEntityBodyAO1 struct {
		Errors map[string]string `json:"errors,omitempty"`
	}

	dataPostrefundquoteUnprocessableEntityBodyAO1.Errors = o.Errors

	jsonDataPostrefundquoteUnprocessableEntityBodyAO1, errPostrefundquoteUnprocessableEntityBodyAO1 := swag.WriteJSON(dataPostrefundquoteUnprocessableEntityBodyAO1)
	if errPostrefundquoteUnprocessableEntityBodyAO1 != nil {
		return nil, errPostrefundquoteUnprocessableEntityBodyAO1
	}
	_parts = append(_parts, jsonDataPostrefundquoteUnprocessableEntityBodyAO1)
	return swag.ConcatJSON(_parts...), nil
}

// Validate validates this postrefundquote unprocessable entity body
func (o *PostrefundquoteUnprocessableEntityBody) Validate(formats strfmt.Registry) error {
	var res []error

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

// MarshalBinary interface implementation
func (o *PostrefundquoteUnprocessableEntityBody) MarshalBinary() ([]byte, error) {
	if o == nil {
		return nil, nil
	}
	return swag.WriteJSON(o)
}

// UnmarshalBinary interface implementation
func (o *PostrefundquoteUnprocessableEntityBody) UnmarshalBinary(b []byte) error {
	var res PostrefundquoteUnprocessableEntityBody
	if err := swag.ReadJSON(b, &res); err != nil {
		return err
	}
	*o = res
	return nil
}
